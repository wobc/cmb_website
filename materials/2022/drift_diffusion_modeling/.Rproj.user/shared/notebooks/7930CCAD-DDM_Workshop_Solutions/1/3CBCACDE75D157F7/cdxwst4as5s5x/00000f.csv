"0","loss_loglik_mixture <- function(parms, observed_data){"
"0","  # densities for DDM"
"0","  likelihoods <- ddiffusion(rt=observed_data$rt, response=observed_data$response,"
"0","                            v=parms[1], "
"0","                            a=parms[2], "
"0","                            t0=parms[3],"
"0","                            z=.5*parms[2],"
"0","                            s=1)"
"0","  # densities for contaminants (uniform)"
"0","  contaminant_likelihood <- dunif(observed_data$rt, min = min(observed_data$rt), max = max(observed_data$rt))"
"0","  "
"0","  # minimize combined -sum(log(LL))"
"0","  mixture_likelihood <- .95*likelihoods + .05*contaminant_likelihood"
"0","  return(-sum(log(mixture_likelihood)))"
"0","}"
